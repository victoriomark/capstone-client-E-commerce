<?phpnamespace controller;use model\cartModel;use model\orderModel;session_start();include_once '../model/orderModel.php';include_once '../model/cartModel.php';class orderController{    public function takeOrders() {        $address = $_POST['address'];        $costumerName = $_POST['costumerName'];        $Phone = $_POST['Phone'];        $Email = $_POST['Email'];        $userId = $_SESSION['userId'];        $orderItems = json_decode($_POST['orderItems'], true); // Decode JSON to array        $model = new orderModel();        $clearCart = new cartModel();        if (empty($address)) {            echo json_encode(['success' => false, 'message' => 'Address is required']);            return;  // Stop further execution        }        // Loop through each item and insert it        foreach ($orderItems as $item) {            $result = $model->createOrders(                $item['productId'],                $item['productName'],                $item['itemTotal'],                $item['price'],                $costumerName,                $address,                $Email,                $Phone,                $item['quantity']            );            if (!$result['success']) {                // If an error occurs, return error message and stop execution                echo json_encode(['success' => false, 'error' => $result['error']]);                return;            }        }        // Clear cart after processing all items        $clearCart->deleteCartItem($userId);        // Return success response after all items are processed        echo json_encode(['success' => true, 'message' => 'Your Order Successfully Submit']);    }}if($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $controller = new orderController();    switch ($_POST['action']){        case 'createOrders':         $controller->takeOrders();         break;    }}