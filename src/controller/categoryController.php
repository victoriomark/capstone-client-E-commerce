<?phpnamespace controller;use model\categoryModel;include_once '../model/categoryModel.php';class categoryController{  public function createCategory()  {      $category = new categoryModel();      $categoryName = $_POST['CategoryName'];      if (empty($categoryName)){          echo json_encode(['success' => false ,'message' => 'category name is required']);      }else{          $category->createCategory($categoryName);      }  }  public function displayCategory()  {      $category = new categoryModel();      $Data = $category->displayCategory();      $tr = '';      if ($Data){          foreach ($Data as $row){              $categoryId = $row['categoryId'];              $categoryName = $row['categoryName'];              $tr .= '           <tr>             <th>'.$categoryId.'</th>             <td>'.$categoryName.'</td>             <td>             <button value="'.$categoryId.'"  id="btn_update" class="btn badge bg-info text-light">update</button>             <button value="'.$categoryId.'" id="btn_remove"  class="btn badge bg-danger text-light">remove</button>            </td>           </tr>         ';          }         echo $tr;      }else{          echo "<h5>No Category Available</h5>";      }  }  public function updateCategory()  {      $catId = $_POST['id'];      $update = new categoryModel();      if (isset($catId)){       $data = $update->updateCategory($catId);       $modal = '';       foreach ($data as $row){           $catName = $row['categoryName'];           $categoryId = $row['categoryId'];           $modal .= '           <div class="modal fade" id="ModalUpdate_'.$categoryId.'" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">            <form id="formCategorySave" action="../controller/categoryController.php" method="post" class="modal-dialog modal-dialog-centered">                <div class="modal-content">                    <div class="modal-header">                        <h6 class="modal-title text-muted" id="exampleModalLabel">Update Category Name</h6>                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                    </div>                    <div class="modal-body">                        <div class="form-floating mb-3">                            <input value="'.$catName.'" name="CategorySaveName" type="text" class="form-control" id="floatingInput">                             <input name="id" value="'.$categoryId.'" type="hidden">                            <label for="floatingInput">Category Name</label>                        </div>                    </div>                    <div class="modal-footer">                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>                        <button type="submit" class="btn btn-primary">Save</button>                    </div>                </div>            </form>        </div>           ';       }       echo $modal;      }else{          echo "No Id probated";      }  }  public function saveCategory()  {      $id = $_POST['id'];      $catName = $_POST['CategorySaveName'];      $Save = new categoryModel();      if (isset($id)){          $Save->saveCategory($catName,$id);      }else{          echo json_encode(['success' => false, 'message' => 'No Id Probated']);      }  }  public function removeCategory()  {      $id = $_POST['id'];      $removeCate = new categoryModel();      if (isset($id)){          $removeCate->deleteCategory($id);      }else{          echo json_encode(['success' => false, 'message' => 'No Id Probated']);      }  }  public function GetAllCategoryDisplayToStore()  {      $category = new categoryModel();      $cat = $category->displayCategory();      $buttons = '';      if ($cat){          foreach ($cat as $Row){              $categoryName = $Row['categoryName'];              $buttons .='                             <button id="btn_category"  data-category="'.$categoryName.'" class="btn btn-outline-primary">'.$categoryName.'</button>              ';          }          echo $buttons;      }else{          echo "<div class='alert alert-info'>No Category Available!</div>";      }  }  public function showCategory()  {      $category = new categoryModel();      $cat = $category->displayCategory();      $select = '';      if ($cat){          foreach ($cat as $row){              $catName = $row['categoryName'];              $select .='                  <option value="'.$catName.'">'.$catName.'</option>              ';          }          echo $select;      }else{          echo "<option selected>No Category</option>";      }  }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $controller = new categoryController();    switch ($_POST['action']){        case 'create':            $controller->createCategory();            break;        case 'update':            $controller->updateCategory();            break;        case 'save':            $controller->saveCategory();            break;        case 'remove':            $controller->removeCategory();            break;    }}