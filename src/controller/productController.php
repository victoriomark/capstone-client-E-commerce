<?phpnamespace controller;use model\productModel;include_once __DIR__ . '/../model/productModel.php';class productController{  public function HandleAddProducts()  {      $model = new productModel();      $productName = $_POST['ProductName'];      $price = $_POST['unitPrice'];      $image = $_FILES['image'];      // validation      $data = [];      $error = [];      if (empty($productName)){          $error['ErrorMessage'] = 'product name is required';      }      if (empty($price)){          $error['ErrorMessage'] = 'price name is required';      }      if (empty($image['name'])){          $error['ErrorMessage'] = 'image name is required';      }      if (!empty($error)){          $data['success'] = false;          $data['error'] = $error;          echo json_encode($data);      }else{          $fileName = $_FILES['image']['name'];          // Set file directory and path          $fileDir = '../../ProductImages/';          $filePath = $fileDir . $fileName;          move_uploaded_file($image['tmp_name'], $filePath);          $model->addProducts($productName,$price,$fileName);      }  }  public function displayProduct()  {      $tr = '';      $model = new productModel();      $data = $model->displayProducts();      if ($data){          foreach ($data as $row){              $productName = $row['ProductName'];              $price = $row['Price'];              $image = $row['image'];              $productId = $row['product_Id'];              $tr .= '             <tr>              <th>'.$productId.'</th>              <td>               <img style="height: 50px; width: 50px" class="img-thumbnail rounded-circle" src="../../ProductImages/'.$image.'" alt="image">              </td>               <th>'.$productName.'</th>              <td>'.$price.'</td>              <td>              <button class="btn btn-outline-primary">Edit</button>              <button class="btn btn-outline-danger">Archive</button>               </td>             </tr>          ';          }          echo $tr;      }else{          echo "<h1>No Product Available</h1>";      }  }  public function DisplayToStore()  {      $card = '';      $model = new productModel();      $data = $model->displayProducts();      if ($data){          foreach ($data as $row){              $productName = $row['ProductName'];              $price = $row['Price'];              $image = $row['image'];              $productId = $row['product_Id'];              $card .= '                  <form id="cart_form" action="../controller/cartController.php" method="post" class="card col-lg-3 col-md-7 p-2">                   <img style="height: 30vh; object-fit: cover" class="card-img" src="../../ProductImages/'.$image.'" alt="image">                 <div class="card-body d-flex flex-column gap-2">                  <h5 class="card-title">'.$productName.'</h5>                   <label for="quantity">                   <input name="quantity" min="1" class="form-control" type="number" value="1" placeholder="Quantity">                 </label>                   <input name="price" type="hidden" value="'.$price.'">                  <input name="image" type="hidden" value="'.$image.'">                  <input name="ProductName"  type="hidden" value="'.$productName.'">                  <input name="ProductId"  type="hidden" value="'.$productId.'">                  <input name="userId" type="hidden" value="'.$_SESSION['userId'].'">                               <h5 class="">â‚±'.$price.'</h5>            <button value="'.$productId.'" type="submit" class="btn btn-outline-primary">Add Cart</button>        </div>    </form>              ';          }          echo $card;      }  }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['action']){    $controller = new productController();    switch ($_POST['action']){        case 'addProduct':            $controller->HandleAddProducts();            break;    }}