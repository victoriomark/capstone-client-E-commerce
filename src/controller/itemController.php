<?phpnamespace controller;use model\inventoryModel;include_once '../model/inventoryModel.php';class itemController{  public function addItem()  {      $item = $_POST['Item'];      $Quantity = $_POST['Quantity'];      $price = $_POST['price'];      $model = new inventoryModel();      $data = [];      $error = [];      if (empty($item)){          $error['errorMessage'] = 'item name is required';      }       if (empty($Quantity)){          $error['errorMessage'] = 'Quantity is required';      }       if (empty($price)){          $error['errorMessage'] = 'price is required';      }       if (!empty($error)){           $data['success'] = false;           $data['error'] = $error;           echo json_encode($data);       }else{           $model->storeItem($item,$price,$Quantity);       }  }public function showAllItem(){   $items = new inventoryModel();   $data = $items->showAll();   $tr = '';   $Total = 0;   if ($data){       foreach ($data as $row){           $itemName = $row['itemName'];           $price = $row['price'];           $quantity = $row['Quantity'];           $itemId = $row['id'];           $total = $price * $quantity;           $Total += $total;           $tr .= '           <tr>                <th>'.$itemId.'</th>                <td>'.$itemName.'</td>                <td>'.$price.'</td>                <td>'.$quantity.'</td>               <td>₱'.number_format($total).'</td>               <td>                <button id="btn_update" value="'.$itemId.'"  class="btn badge bg-primary">update</button>                   <button  id="btn_remove" value="'.$itemId.'"  class="btn badge bg-danger ">reomove</button>              </td>           </tr>           ';       }       // Append the total row at the end       $tr .= '       <tr>           <td colspan="4" align="right"><strong>Total:</strong></td>           <td colspan="2"><strong>₱' . number_format($Total, 2) . '</strong></td>       </tr>';       echo $tr;   }}public function showItemBaseOnId(){    $id = $_POST['id'];    $modal = '';    if (isset($id)){        $item = new inventoryModel();        $data = $item->showItemBaseOnId($id);        if ($data){            foreach ($data as $row){                $itemName = $row['itemName'];                $price = $row['price'];                $quantity = $row['Quantity'];                $itemId = $row['id'];                $modal .='            <div class="modal fade" id="modalUpdateItem_'.$itemId.'" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">              <form id="formUpdateItem" action="../controller/itemController.php" method="post" class="modal-dialog modal-dialog-centered">                <div class="modal-content">                  <div class="modal-header">                    <h1 class="modal-title text-muted fs-6" id="exampleModalLabel">Update</h1>                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                  </div>                  <div class="modal-body">                 <div class="form-floating mb-3">                    <input value="'.$itemName.'" name="ItemSave" type="text" class="form-control" id="floatingInput">                    <label for="floatingInput">Item</label>                </div>                <div class="form-floating mb-3">                    <input value="'.$quantity.'" name="QuantitySave" type="number" class="form-control" id="floatingInput">                    <label for="floatingInput">Quantity</label>                </div>                <div class="form-floating mb-3">                    <input value="'.$price.'" name="priceSave" type="number" class="form-control" id="floatingInput">                    <label for="floatingInput">Price/unit</label>                </div>                <input name="id" type="hidden" value="'.$itemId.'">                  </div>                  <div class="modal-footer">                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>                    <button type="submit" class="btn btn-primary">Save changes</button>                  </div>                </div>              </form>           </div>            ';            }            echo $modal;        }    }else{        echo "No Id Probated";    }  }  public function SaveItem()  {      $id = $_POST['id'];      $updateItem = $_POST['ItemSave'];      $QuantitySave = $_POST['QuantitySave'];      $priceSave = $_POST['priceSave'];      $items = new inventoryModel();      if (isset($id)){          $items->saveUpdatedItem($updateItem,$priceSave,$QuantitySave,$id);      }else{          echo "No Id";      }  }  public function removeItem()  {      $id = $_POST['id'];      $item = new inventoryModel();      if (isset($id)){          $item->removeItem($id);      }  }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $controller = new itemController();    switch ($_POST['action']){        case 'addItem':            $controller->addItem();            break;        case 'update':            $controller->showItemBaseOnId();            break;        case 'Save':            $controller->SaveItem();            break;        case 'removeItem':            $controller->removeItem();            break;    }}